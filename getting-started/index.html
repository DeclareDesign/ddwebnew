<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>DeclareDesign - Getting started with DeclareDesign</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<script src="../site_libs/quarto-nav/quarto-nav.js"></script><script src="../site_libs/quarto-nav/headroom.min.js"></script><script src="../site_libs/clipboard/clipboard.min.js"></script><script src="../site_libs/quarto-search/autocomplete.umd.js"></script><script src="../site_libs/quarto-search/fuse.min.js"></script><script src="../site_libs/quarto-search/quarto-search.js"></script><meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script><script src="../site_libs/quarto-html/popper.min.js"></script><script src="../site_libs/quarto-html/tippy.umd.min.js"></script><script src="../site_libs/quarto-html/anchor.min.js"></script><link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script><link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script src="../site_libs/kePrint-0.0.1/kePrint.js"></script><link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><link rel="stylesheet" href="../styles.css">
</head>
<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../static/dd-logo-sm.svg" alt="" class="navbar-logo"></a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title"><strong>Declare</strong>Design</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../getting-started.html">
 <span class="menu-text">Getting started</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://book.declaredesign.org">
 <span class="menu-text">Book</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-software" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Software</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-software">
<li>
    <a class="dropdown-item" href="../declaredesign/">
 <span class="dropdown-text">DeclareDesign</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../fabricatr/">
 <span class="dropdown-text">fabricatr</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../randomizr/">
 <span class="dropdown-text">randomizr</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../estimatr/">
 <span class="dropdown-text">estimatr</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item">
    <a class="nav-link" href="../blog">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
<div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Getting started with DeclareDesign</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content"><div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
✔ ggplot2 3.4.0      ✔ purrr   1.0.0 
✔ tibble  3.1.8      ✔ dplyr   1.0.10
✔ tidyr   1.2.1      ✔ stringr 1.5.0 
✔ readr   2.1.3      ✔ forcats 0.5.2 
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter()     masks stats::filter()
✖ dplyr::group_rows() masks kableExtra::group_rows()
✖ dplyr::lag()        masks stats::lag()</code></pre>
</div>
</div>
<p><font size="6">DeclareDesign is a set of tools for planning research studies</font></p>
<p>VIDEO</p>
<section id="installing-r" class="level2"><h2 class="anchored" data-anchor-id="installing-r">Installing R</h2>
<p>You can download R for free from <a href="https://cran.r-project.org">CRAN</a>. We also recommend the free program <a href="https://rstudio.com/products/rstudio/download">RStudio</a>, which provides a friendly interface to R. Both R and RStudio are available on Windows, Mac, and Linux.</p>
<p>Once you have R and RStudio installed, open up RStudio and install DeclareDesign and its related packages. These include three packages that enable specific steps in the research process: <code>fabricatr</code> for simulating social science data, <code>randomizr</code> for random sampling and random assignment, and <code>estimatr</code> for design-based estimators. You can also install <code>rdddr</code>, which includes datasets and helper functions used in the book. To install them all, copy the following code into your R console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"DeclareDesign"</span>, <span class="st">"rdddr"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<p>We also recommend that you install and get to know the <code>tidyverse</code> set of packages for data analysis:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>For introductions to R and the <code>tidyverse</code> we especially recommend the free resource <a href="https://r4ds.had.co.nz">R for Data Science</a>.</p>
</section><section id="declaration" class="level2"><h2 class="anchored" data-anchor-id="declaration">Declaration</h2>
<p>Designs are constructed from design elements: models, inquiries, data strategies, and answer strategies.</p>
<p>In <code>DeclareDesign</code>, each design element is made with a function that starts with the word <code>declare</code>. For example, we can declare an assignment procedure using <code>declare_assignment</code> as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://declaredesign.org/r/declaredesign/">DeclareDesign</a></span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: randomizr</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: fabricatr</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: estimatr</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'DeclareDesign'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    vars</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:ggplot2':

    vars</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simple_random_assignment</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_assignment.html">declare_assignment</a></span><span class="op">(</span>Z <span class="op">=</span> <span class="fu"><a href="//reference/simple_ra.html">simple_ra</a></span><span class="op">(</span>N <span class="op">=</span> <span class="va">N</span>, prob <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Each element created by a <code>declare_*</code> function, perhaps surprisingly, is itself a <em>function</em>. The object <code>simple_random_assignment</code> is not a particular assignment — instead, it is a function that conducts assignment when called. Each time we call <code>simple_random_assignment</code> we get a different random assignment:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">participants</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>ID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="va">assignment_1</span> <span class="op">&lt;-</span> <span class="fu">simple_random_assignment</span><span class="op">(</span><span class="va">participants</span><span class="op">)</span></span>
<span><span class="va">assignment_2</span> <span class="op">&lt;-</span> <span class="fu">simple_random_assignment</span><span class="op">(</span><span class="va">participants</span><span class="op">)</span></span>
<span><span class="va">assignment_3</span> <span class="op">&lt;-</span> <span class="fu">simple_random_assignment</span><span class="op">(</span><span class="va">participants</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_cols</a></span><span class="op">(</span><span class="va">assignment_1</span>, <span class="va">assignment_2</span>, <span class="va">assignment_3</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="tbl-multiple-assignments" class="cell tbl-parent quarto-layout-panel anchored">
<div class="panel-caption table-caption">
<p>Table 1: Three random assignments from the same random assignment step.</p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="tbl-multiple-assignments-1" class="quarto-layout-cell quarto-layout-cell-subref anchored" data-ref-parent="tbl-multiple-assignments" style="flex-basis: 33.3%;justify-content: center;">

<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>(a) 1 </caption>
 <thead><tr>
<th style="text-align:center;"> ID </th>
   <th style="text-align:center;"> Z </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
<tr>
<td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
<tr>
<td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
<tr>
<td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
<tr>
<td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
</tbody>
</table>
</div>
<div id="tbl-multiple-assignments-2" class="quarto-layout-cell quarto-layout-cell-subref anchored" data-ref-parent="tbl-multiple-assignments" style="flex-basis: 33.3%;justify-content: center;">

<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>(b) 2 </caption>
 <thead><tr>
<th style="text-align:center;"> ID </th>
   <th style="text-align:center;"> Z </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
<tr>
<td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
<tr>
<td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
<tr>
<td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
<tr>
<td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
</tbody>
</table>
</div>
<div id="tbl-multiple-assignments-3" class="quarto-layout-cell quarto-layout-cell-subref anchored" data-ref-parent="tbl-multiple-assignments" style="flex-basis: 33.3%;justify-content: center;">

<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>(c) 3 </caption>
 <thead><tr>
<th style="text-align:center;"> ID </th>
   <th style="text-align:center;"> Z </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
<tr>
<td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
<tr>
<td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
<tr>
<td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
<tr>
<td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Every step in a research design can be declared using one of the <code>declare_*</code> functions. <a href="#tbl-declarationfunctions">Table 2</a> collects these according to the four elements of a research design. In <a href="https://book.declaredesign.org/declaration-diagnosis-redesign/declaration-in-code.html">Chapter 13 of the book</a>, we detail how to build each kind of step.</p>
<div id="tbl-declarationfunctions" class="anchored">
<table class="table">
<caption>Table 2: Declaration functions in DeclareDesign</caption>
<colgroup>
<col style="width: 17%">
<col style="width: 32%">
<col style="width: 49%">
</colgroup>
<thead><tr class="header">
<th>Design component</th>
<th>Function</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Model</td>
<td><code><a href="https://declaredesign.org/r/declaredesign/reference/declare_model.html">declare_model()</a></code></td>
<td>background variables and potential outcomes</td>
</tr>
<tr class="even">
<td>Inquiry</td>
<td><code><a href="https://declaredesign.org/r/declaredesign/reference/declare_inquiry.html">declare_inquiry()</a></code></td>
<td>research questions</td>
</tr>
<tr class="odd">
<td>Data strategy</td>
<td><code><a href="https://declaredesign.org/r/declaredesign/reference/declare_sampling.html">declare_sampling()</a></code></td>
<td>sampling procedures</td>
</tr>
<tr class="even">
<td></td>
<td><code><a href="https://declaredesign.org/r/declaredesign/reference/declare_assignment.html">declare_assignment()</a></code></td>
<td>assignment procedures</td>
</tr>
<tr class="odd">
<td></td>
<td><code><a href="https://declaredesign.org/r/declaredesign/reference/declare_measurement.html">declare_measurement()</a></code></td>
<td>measurement procedures</td>
</tr>
<tr class="even">
<td>Answer strategy</td>
<td><code><a href="https://declaredesign.org/r/declaredesign/reference/declare_estimator.html">declare_estimator()</a></code></td>
<td>estimation procedures</td>
</tr>
<tr class="odd">
<td></td>
<td><code><a href="https://declaredesign.org/r/declaredesign/reference/declare_test.html">declare_test()</a></code></td>
<td>testing procedures</td>
</tr>
</tbody>
</table>
</div>
<p>We use the <code>+</code> operator to build from elements of a design to a design. <strong>?@def-ch4num1</strong> shows the format of most declarations throughout the book. This declaration represents a two-arm randomized experiment with 100 units from which we aim to estimate the average treatment effect.</p>
<p><strong>Two-arm randomized experiment</strong></p>
<div id="fig-designannotated" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="../figures/declaration-example.png" class="img-fluid figure-img"></p>
<p></p>
<figcaption class="figure-caption">Figure 1: Two-arm randomized experiment declaration</figcaption><p></p>
</figure>
</div>
</section><section id="diagnose-design-function" class="level2"><h2 class="anchored" data-anchor-id="diagnose-design-function">Diagnosis</h2>
<p>Diagnosis is the process of simulating the design many times and calculating summary statistics about the design that describe its properties, which we call diagnosands. Once a design is declared, diagnosis is as simple as using the <code>diagnose_design</code> function on it.</p>
<p><strong>Example design diagnosis</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/diagnose_design.html">diagnose_design</a></span><span class="op">(</span><span class="va">declaration</span>, sims <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-diagnosis4s1" class="anchored">

<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>Table 3:  Design diagnosis. </caption>
 <thead><tr>
<th style="text-align:center;"> Bias </th>
   <th style="text-align:center;"> RMSE </th>
   <th style="text-align:center;"> Power </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:center;"> -0.02 </td>
   <td style="text-align:center;"> 0.31 </td>
   <td style="text-align:center;"> 0.11 </td>
  </tr>
<tr>
<td style="text-align:center;"> (0.03) </td>
   <td style="text-align:center;"> (0.02) </td>
   <td style="text-align:center;"> (0.03) </td>
  </tr>
</tbody>
</table>
</div>
</div>
</div>
<p>The output of the diagnosis includes the diagnosand values (top row), such as bias of <span class="math inline">\(-0.01\)</span>, and our uncertainty about the diagnosand value (bootstrapped standard error in parentheses in the bottom row). The uncertainty estimates tell us whether we have conducted enough simulations to precisely estimate the diagnosands. The fact that that the estimate of bias is <span class="math inline">\(-0.01\)</span> and the standard error is <span class="math inline">\(0.02\)</span> means that we cannot distinguish the amount of bias from no bias at all.</p>
</section><section id="redesign-function" class="level2"><h2 class="anchored" data-anchor-id="redesign-function">Redesign</h2>
<p>We redesign to learn how the diagnosands change as design features change. We can do this using the <code>redesign</code> function over a range of sample sizes, which produces a list of designs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">designs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/redesign.html">redesign</a></span><span class="op">(</span><span class="va">declaration</span>, N <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">200</span>, <span class="fl">300</span>, <span class="fl">400</span>, <span class="fl">500</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Our simulation and diagnosis tools can operate directly on this list of designs:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/diagnose_design.html">diagnose_design</a></span><span class="op">(</span><span class="va">designs</span><span class="op">)</span></span></code></pre></div>
</div>
</section><section id="library-of-designs" class="level2"><h2 class="anchored" data-anchor-id="library-of-designs">Library of designs</h2>
<p>In our <code>DesignLibrary</code> package, we have created a set of common designs as designers (functions that create designs from just a few parameters), so you can get started quickly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://declaredesign.org/r/designlibrary/">DesignLibrary</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">block_cluster_design</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://declaredesign.org/r/designlibrary/reference/block_cluster_two_arm_designer.html">block_cluster_two_arm_designer</a></span><span class="op">(</span>N <span class="op">=</span> <span class="fl">1000</span>, N_blocks <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
</div>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body>
</html>
