<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Builds a design in which two pieces of evidence are sought and used to update about whether X caused Y using Bayes' rule."><title>Create a process-tracing design — process_tracing_designer • DesignLibrary</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a process-tracing design — process_tracing_designer"><meta property="og:description" content="Builds a design in which two pieces of evidence are sought and used to update about whether X caused Y using Bayes' rule."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DesignLibrary</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.10</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/How_to_Write_and_Contribute_Designers.html">How to Write and Contribute Designers</a>
    <a class="dropdown-item" href="../articles/How_to_Write_and_Contribute_Designs.html">How to Write and Contribute Designs</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-software">Software</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-software">
    <a class="external-link dropdown-item" href="http://declaredesign.org/r/declaredesign/">DeclareDesign</a>
    <a class="external-link dropdown-item" href="https://declaredesign.org/r/randomizr/">randomizr</a>
    <a class="external-link dropdown-item" href="https://declaredesign.org/r/fabricatr/">fabricatr</a>
    <a class="external-link dropdown-item" href="https://declaredesign.org/r/estimatr/">estimatr</a>
    <a class="dropdown-item" href="https://declaredesign.org/r/designlibrary/">DesignLibrary</a>
    <a class="external-link dropdown-item" href="https://eos.wzb.eu/ipi/DDWizard/">DesignWizard</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://declaredesign.org">declaredesign.org</a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create a process-tracing design</h1>
      <small class="dont-index">Source: <a href="https://github.com/DeclareDesign/DesignLibrary/blob/HEAD/R/process_tracing_designer.R" class="external-link"><code>R/process_tracing_designer.R</code></a></small>
      <div class="d-none name"><code>process_tracing_designer.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Builds a design in which two pieces of evidence are sought and used to update about whether X caused Y using Bayes' rule.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">process_tracing_designer</span><span class="op">(</span></span>
<span>  N <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  prob_X <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  process_proportions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span><span class="op">)</span>,</span>
<span>  prior_H <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  p_E1_H <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  p_E1_not_H <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  p_E2_H <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>  p_E2_not_H <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  cor_E1E2_H <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  cor_E1E2_not_H <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  label_E1 <span class="op">=</span> <span class="st">"Straw in the Wind"</span>,</span>
<span>  label_E2 <span class="op">=</span> <span class="st">"Smoking Gun"</span>,</span>
<span>  args_to_fix <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>N</dt>
<dd><p>An integer. Size of population of cases from which a single case is selected.</p></dd>


<dt>prob_X</dt>
<dd><p>A number in [0,1]. Probability that X = 1 for a given case (equal throughout population of cases).</p></dd>


<dt>process_proportions</dt>
<dd><p>A vector of numbers in [0,1] that sums to 1. Simplex denoting the proportion of cases in the population in which, respectively: 1) X causes Y; 2) Y occurs regardless of X; 3) X causes the absence of Y; 4) Y is absent regardless of X.</p></dd>


<dt>prior_H</dt>
<dd><p>A number in [0,1]. Prior probability that X causes Y in a given case in which X and Y are both present.</p></dd>


<dt>p_E1_H</dt>
<dd><p>A number in [0,1]. Probability of observing first piece of evidence given hypothesis that X caused Y is true.</p></dd>


<dt>p_E1_not_H</dt>
<dd><p>A number in [0,1]. Probability of observing first piece of evidence given hypothesis that X caused Y is not true.</p></dd>


<dt>p_E2_H</dt>
<dd><p>A number in [0,1]. Probability of observing second piece of evidence given hypothesis that X caused Y is true.</p></dd>


<dt>p_E2_not_H</dt>
<dd><p>A number in [0,1]. Probability of observing second piece of evidence given hypothesis that X caused Y is not true.</p></dd>


<dt>cor_E1E2_H</dt>
<dd><p>A number in [-1,1]. Correlation between first and second pieces of evidence given hypothesis that X caused Y is true.</p></dd>


<dt>cor_E1E2_not_H</dt>
<dd><p>A number in [-1,1]. Correlation between first and second pieces of evidence given hypothesis that X caused Y is not true.</p></dd>


<dt>label_E1</dt>
<dd><p>A string. Label for the first piece of evidence (e.g., "Straw in the Wind").</p></dd>


<dt>label_E2</dt>
<dd><p>A string. Label for the second piece of evidence (e.g., "Smoking Gun").</p></dd>


<dt>args_to_fix</dt>
<dd><p>A character vector. Names of arguments to be args_to_fix in design.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A process-tracing design.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The model posits a population of <code>N</code> cases, each of which does or does not exhibit the presence of some outcome, Y. With probability <code>prob_X</code>, each case also exhibits the presence or absence of some potential cause, X. The outcome Y can be realized through four distinct causal relations, distributed through the population of cases according to <code>process_proportions</code>. First, the presence of X might cause Y. Second, the absence of X might cause Y. Third, Y might be present irrespective of X. Fourth, Y might be absent irrespective of X.</p>
<p>Our inquiry is a "cause of effects" question. We wish to know whether a specific case was one in which the presence (absence) of X caused the presence (absence) of Y.</p>
<p>Our data strategy consists of selecting one case at random in which both X and Y are present. As part of the data strategy we seek two pieces of evidence in favor of or against the hypothesized causal relationship, H, in which X causes Y.</p>
<p>The first (second) piece of evidence is observed with probability <code>p_E1_H</code> (<code>p_E2_H</code>) when H is true, and with probability <code>p_E1_not_H</code> (<code>p_E2_not_H</code>) when H is false.</p>
<p>Conditional on H being true (false), the correlation between the two pieces of evidence is given by <code>cor_E1E2_H</code> (<code>cor_E1E2_not_H</code>).</p>
<p>The researcher uses Bayes’ rule to update about the probability that X caused Y given the evidence. In other words, they form a posterior inference, Pr(H|E). We specify four answer strategies for forming this inference. The first simply ignores the evidence and is equivalent to stating a prior belief without doing any causal process tracing. The second conditions inferences only on the first piece of evidence, and the third only on the second piece of evidence. The fourth strategy conditions posterior inferences on both pieces of evidence simultaneously.</p>
<p>We specify as diagnosands for this design the bias, RMSE, mean(estimand), mean(estimate) and sd(estimate).</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><a href="https://declaredesign.org/" class="external-link">DeclareDesign Team</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Generate a process-tracing design using default arguments:</span></span></span>
<span class="r-in"><span><span class="va">pt_1</span> <span class="op">&lt;-</span> <span class="fu">process_tracing_designer</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/draw_functions.html" class="external-link">draw_estimands</a></span><span class="op">(</span><span class="va">pt_1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         inquiry estimand</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 did_X_cause_Y     TRUE</span>
<span class="r-in"><span><span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/draw_functions.html" class="external-link">draw_estimates</a></span><span class="op">(</span><span class="va">pt_1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                           estimator posterior_H result       inquiry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                  No tests (Prior)   0.5000000   TRUE did_X_cause_Y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                 Straw in the Wind   0.8000000   TRUE did_X_cause_Y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                       Smoking Gun   0.4117647  FALSE did_X_cause_Y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Straw in the Wind and Smoking Gun   0.7368421     10 did_X_cause_Y</span>
<span class="r-in"><span><span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/draw_functions.html" class="external-link">draw_data</a></span><span class="op">(</span><span class="va">pt_1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    ID causal_process    X    Y S test_results    E1   E2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 088     X_causes_Y TRUE TRUE 1           01 FALSE TRUE</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/diagnose_design.html" class="external-link">diagnose_design</a></span><span class="op">(</span><span class="va">pt_1</span>, sims <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A design in which the smoking gun and straw-in-the-wind are correlated</span></span></span>
<span class="r-in"><span><span class="va">pt_2</span> <span class="op">&lt;-</span> <span class="fu">process_tracing_designer</span><span class="op">(</span>cor_E1E2_H <span class="op">=</span> <span class="fl">.32</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/diagnose_design.html" class="external-link">diagnose_design</a></span><span class="op">(</span><span class="va">pt_2</span>, sims <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A design with two doubly-decisive tests pointing in opposite directions</span></span></span>
<span class="r-in"><span><span class="va">pt_3</span> <span class="op">&lt;-</span> <span class="fu">process_tracing_designer</span><span class="op">(</span>p_E1_H <span class="op">=</span> <span class="fl">.80</span>,p_E1_not_H <span class="op">=</span> <span class="fl">.05</span>,</span></span>
<span class="r-in"><span>                                 label_E1 <span class="op">=</span> <span class="st">"Doubly-Decisive: H"</span>,</span></span>
<span class="r-in"><span>                                 p_E2_H <span class="op">=</span> <span class="fl">.05</span>,p_E2_not_H <span class="op">=</span> <span class="fl">.80</span>,</span></span>
<span class="r-in"><span>                                 label_E2 <span class="op">=</span> <span class="st">"Doubly-Decisive: Not H"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/draw_functions.html" class="external-link">draw_estimates</a></span><span class="op">(</span><span class="va">pt_3</span><span class="op">)</span>                                </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       estimator posterior_H result</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                              No tests (Prior)    0.500000   TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                            Doubly-Decisive: H    0.173913  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                        Doubly-Decisive: Not H    0.826087  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Doubly-Decisive: H and Doubly-Decisive: Not H    0.500000     00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         inquiry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 did_X_cause_Y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 did_X_cause_Y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 did_X_cause_Y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 did_X_cause_Y</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/diagnose_design.html" class="external-link">diagnose_design</a></span><span class="op">(</span><span class="va">pt_3</span>, sims <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Graeme Blair, Jasper Cooper, Alexander Coppock, Macartan Humphreys, Clara Bicalho, Neal Fultz, Lily Medina.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

