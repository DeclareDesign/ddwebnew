<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="DesignLibrary">
<title>Regression Discontinuity • DesignLibrary</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Regression Discontinuity">
<meta property="og:description" content="DesignLibrary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DesignLibrary</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.10</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/How_to_Write_and_Contribute_Designers.html">How to Write and Contribute Designers</a>
    <a class="dropdown-item" href="../articles/How_to_Write_and_Contribute_Designs.html">How to Write and Contribute Designs</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-software">Software</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-software">
    <a class="external-link dropdown-item" href="http://declaredesign.org/r/declaredesign/">DeclareDesign</a>
    <a class="external-link dropdown-item" href="https://declaredesign.org/r/randomizr/">randomizr</a>
    <a class="external-link dropdown-item" href="https://declaredesign.org/r/fabricatr/">fabricatr</a>
    <a class="external-link dropdown-item" href="https://declaredesign.org/r/estimatr/">estimatr</a>
    <a class="dropdown-item" href="https://declaredesign.org/r/designlibrary/">DesignLibrary</a>
    <a class="external-link dropdown-item" href="https://eos.wzb.eu/ipi/DDWizard/">DesignWizard</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://declaredesign.org">declaredesign.org</a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="regression_discontinuity_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Regression Discontinuity</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DeclareDesign/DesignLibrary/blob/HEAD/../vignettes/regression_discontinuity.Rmd" class="external-link"><code>../vignettes/regression_discontinuity.Rmd</code></a></small>
      <div class="d-none name"><code>regression_discontinuity.Rmd</code></div>
    </div>

    
    
<p>Regression discontinuity designs exploit substantive knowledge that treatment is assigned in a particular way: everyone above a threshold is assigned to treatment and everyone below it is not. Even though researchers do not control the assignment, substantive knowledge about the threshold serves as a basis for a strong identification claim.</p>
<p>Thistlewhite and Campbell introduced the regression discontinuity design in the 1960s to study the impact of scholarships on academic success. Their insight was that students with a test score just above a scholarship cutoff were plausibly comparable to students whose scores were just below the cutoff, so any differences in future academic success could be attributed to the scholarship itself.</p>
<p>Regression discontinuity designs identify a <em>local</em> average treatment effect: the average effect of treatment <em>exactly at the cutoff</em>. The main trouble with the design is that there is vanishingly little data exactly at the cutoff, so any answer strategy needs to use data that is some distance away from the cutoff. The further away from the cutoff we move, the larger the threat of bias.</p>
<p>We’ll consider an application of the regression discontinuity design that examines party incumbency advantage – the effect of a party winning an election on its vote margin in the next election.</p>
<div class="section level2">
<h2 id="design-declaration">Design Declaration<a class="anchor" aria-label="anchor" href="#design-declaration"></a>
</h2>
<ul>
<li>
<p><strong>M</strong>odel:</p>
<p>Regression discontinuity designs have four components: A running variable, a cutoff, a treatment variable, and an outcome. The cutoff determines which units are treated depending on the value of the running variable.</p>
<p>In our example, the running variable <span class="math inline">\(X\)</span> is the Democratic party’s margin of victory at time <span class="math inline">\(t-1\)</span>; and the treatment, <span class="math inline">\(Z\)</span>, is whether the Democratic party won the election in time <span class="math inline">\(t-1\)</span>. The outcome, <span class="math inline">\(Y\)</span>, is the Democratic vote margin at time <span class="math inline">\(t\)</span>. We’ll consider a population of 1,000 of these pairs of elections.</p>
<p>A major assumption required for regression discontinuity is that the conditional expectation functions for both treatment and control potential outcomes are continuous at the cutoff.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;An alternative motivation for some designs that do not rely on continuity at the cutoff is “local randomization”.&lt;/p&gt;"><sup>1</sup></a> To satisfy this assumption, we specify two smooth conditional expectation functions, one for each potential outcome. The figure plots <span class="math inline">\(Y\)</span> (the Democratic vote margin at time <span class="math inline">\(t\)</span>) against <span class="math inline">\(X\)</span> (the margin at time <span class="math inline">\(t-1\)</span>). We’ve also plotted the true conditional expectation functions for the treated and control potential outcomes. The solid lines correspond to the observed data and the dashed lines correspond to the unobserved data.</p>
<p><img src="regression_discontinuity_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
</li>
<li>
<p><strong>I</strong>nquiry:</p>
<p>Our estimand is the effect of a Democratic win in an election on the Democratic vote margin of the next election, when the Democratic vote margin of the first election is zero. Formally, it is the difference in the conditional expectation functions of the control and treatment potential outcomes when the running variable is exactly zero. The black vertical line in the plot shows this difference.</p>
</li>
<li>
<p><strong>D</strong>ata strategy:</p>
<p>We collect data on the Democratic vote share at time <span class="math inline">\(t-1\)</span> and time <span class="math inline">\(t\)</span> for all 1,000 pairs of elections. There is no sampling or random assignment.</p>
</li>
<li>
<p><strong>A</strong>nswer strategy:</p>
<p>We will approximate the treated and untreated conditional expectation functions to the left and right of the cutoff using a flexible regression specification estimated via OLS. In particular, we fit each regression using a fourth-order polynomial. Much of the literature on regression discontinuity designs focuses on the tradeoffs among answer strategies, with many analysts recommending against higher-order polynomial regression specifications. We use one here to highlight how well such an answer strategy does when it matches the functional form in the model. We discuss alternative estimators in the exercises.</p>
</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span><span class="va">tau</span> <span class="op">&lt;-</span> <span class="fl">0.15</span></span>
<span><span class="va">outcome_sd</span> <span class="op">&lt;-</span> <span class="fl">0.1</span></span>
<span><span class="va">cutoff</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span>
<span><span class="va">bandwidth</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span>
<span><span class="va">control_coefs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="va">treatment_coefs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">poly_reg_order</span> <span class="op">&lt;-</span> <span class="fl">4</span></span>
<span></span>
<span><span class="va">po_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">X</span>, <span class="va">coefs</span>, <span class="va">tau</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/poly.html" class="external-link">poly</a></span><span class="op">(</span><span class="va">X</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">coefs</span><span class="op">)</span>, raw <span class="op">=</span> <span class="cn">T</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">coefs</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="va">tau</span></span>
<span><span class="op">}</span></span>
<span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_population.html" class="external-link">declare_population</a></span><span class="op">(</span>N <span class="op">=</span> <span class="va">N</span>, X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">N</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">-</span> </span>
<span>    <span class="va">cutoff</span>, noise <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span>, <span class="fl">0</span>, <span class="va">outcome_sd</span><span class="op">)</span>, Z <span class="op">=</span> <span class="fl">1</span> <span class="op">*</span> <span class="op">(</span><span class="va">X</span> <span class="op">&gt;</span> </span>
<span>    <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">potential_outcomes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_potential_outcomes.html" class="external-link">declare_potential_outcomes</a></span><span class="op">(</span>Y_Z_0 <span class="op">=</span> <span class="fu">po_function</span><span class="op">(</span><span class="va">X</span>, </span>
<span>    tau <span class="op">=</span> <span class="fl">0</span>, coefs <span class="op">=</span> <span class="va">control_coefs</span><span class="op">)</span> <span class="op">+</span> <span class="va">noise</span>, Y_Z_1 <span class="op">=</span> <span class="fu">po_function</span><span class="op">(</span><span class="va">X</span>, </span>
<span>    tau <span class="op">=</span> <span class="va">tau</span>, coefs <span class="op">=</span> <span class="va">treatment_coefs</span><span class="op">)</span> <span class="op">+</span> <span class="va">noise</span><span class="op">)</span></span>
<span><span class="va">reveal_Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_reveal.html" class="external-link">declare_reveal</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span></span>
<span><span class="va">estimand</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_inquiry.html" class="external-link">declare_inquiry</a></span><span class="op">(</span>LATE <span class="op">=</span> <span class="fu">po_function</span><span class="op">(</span>X <span class="op">=</span> <span class="fl">0</span>, coefs <span class="op">=</span> <span class="va">treatment_coefs</span>, </span>
<span>    tau <span class="op">=</span> <span class="va">tau</span><span class="op">)</span> <span class="op">-</span> <span class="fu">po_function</span><span class="op">(</span>X <span class="op">=</span> <span class="fl">0</span>, coefs <span class="op">=</span> <span class="va">control_coefs</span>, </span>
<span>    tau <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sampling</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_sampling.html" class="external-link">declare_sampling</a></span><span class="op">(</span>handler <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">data</span>, <span class="op">(</span><span class="va">X</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">bandwidth</span><span class="op">)</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">X</span> <span class="op">&lt;</span> <span class="fl">0</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">bandwidth</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="va">estimator</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_estimator.html" class="external-link">declare_estimator</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">Y</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/poly.html" class="external-link">poly</a></span><span class="op">(</span><span class="va">X</span>, <span class="va">poly_reg_order</span><span class="op">)</span> <span class="op">*</span> </span>
<span>    <span class="va">Z</span>, model <span class="op">=</span> <span class="va">lm_robust</span>, term <span class="op">=</span> <span class="st">"Z"</span>, inquiry <span class="op">=</span> <span class="va">estimand</span><span class="op">)</span></span>
<span><span class="va">regression_discontinuity_design</span> <span class="op">&lt;-</span> <span class="va">population</span> <span class="op">+</span> <span class="va">potential_outcomes</span> <span class="op">+</span> </span>
<span>    <span class="va">estimand</span> <span class="op">+</span> <span class="va">reveal_Y</span> <span class="op">+</span> <span class="va">sampling</span> <span class="op">+</span> <span class="va">estimator</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="takeaways">Takeaways<a class="anchor" aria-label="anchor" href="#takeaways"></a>
</h2>
<p>We now diagnose the design:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">diagnosis</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/diagnose_design.html" class="external-link">diagnose_design</a></span><span class="op">(</span><span class="va">regression_discontinuity_design</span>, sims <span class="op">=</span> <span class="fl">25</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: We recommend you choose a number of simulations higher than 30.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span>
<span></span>
<span><span class="co">## Warning in fn(data, formula = ~(Y ~ poly(X, poly_reg_order) * Z), model =</span></span>
<span><span class="co">## ~lm_robust, : The argument 'model = ' is deprecated. Please use '.method = '</span></span>
<span><span class="co">## instead.</span></span></code></pre>
<table style="width:100%;" class="table">
<colgroup>
<col width="9%">
<col width="7%">
<col width="4%">
<col width="6%">
<col width="13%">
<col width="13%">
<col width="6%">
<col width="11%">
<col width="6%">
<col width="6%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left">Estimator</th>
<th align="left">Outcome</th>
<th align="left">Term</th>
<th align="left">N Sims</th>
<th align="left">Mean Estimand</th>
<th align="left">Mean Estimate</th>
<th align="left">Bias</th>
<th align="left">SD Estimate</th>
<th align="left">RMSE</th>
<th align="left">Power</th>
<th align="left">Coverage</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">estimator</td>
<td align="left">Y</td>
<td align="left">Z</td>
<td align="left">25</td>
<td align="left">0.15</td>
<td align="left">0.28</td>
<td align="left">0.13</td>
<td align="left">0.72</td>
<td align="left">0.72</td>
<td align="left">0.00</td>
<td align="left">1.00</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">(0.00)</td>
<td align="left">(0.14)</td>
<td align="left">(0.14)</td>
<td align="left">(0.07)</td>
<td align="left">(0.06)</td>
<td align="left">(0.00)</td>
<td align="left">(0.00)</td>
</tr>
</tbody>
</table>
<ul>
<li><p>The power of this design is very low: with 1,000 units we do not achieve even 10% statistical power. However, our estimates of the uncertainty are not too wide: the coverage probability indicates that our confidence intervals indeed contain the estimand 95% of the time as they should. Our answer strategy is highly uncertain because the second-order polynomial specification in regression model gives weights to the data that greatly increase the variance of the estimator (Gelman and Imbens, 2017).</p></li>
<li><p>The design is biased because polynomial approximations of the average effect at exactly the point of the threshold will be inaccurate in small samples (Sekhon and Titiunik, 2017), especially as units farther away from the cutoff are incorporated into the answer strategy.</p></li>
<li><p>Finally, from the figure, we can see how poorly the average effect at the threshold approximates the average effect for all units. The average treatment effect among the treated (to the right of the threshold in the figure) is negative, whereas at the threshold it is zero This clarifies that the estimand of the regression discontinuity design, the difference at the cutoff, is only relevant for a small – and possibly empty – set of units very close to the cutoff.</p></li>
</ul>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Graeme Blair, Jasper Cooper, Alexander Coppock, Macartan Humphreys, Clara Bicalho, Neal Fultz, Lily Medina.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
