<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="DesignLibrary">
<title>Two-by-Two Factorial • DesignLibrary</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Two-by-Two Factorial">
<meta property="og:description" content="DesignLibrary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DesignLibrary</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.10</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/How_to_Write_and_Contribute_Designers.html">How to Write and Contribute Designers</a>
    <a class="dropdown-item" href="../articles/How_to_Write_and_Contribute_Designs.html">How to Write and Contribute Designs</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-software">Software</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-software">
    <a class="external-link dropdown-item" href="http://declaredesign.org/r/declaredesign/">DeclareDesign</a>
    <a class="external-link dropdown-item" href="https://declaredesign.org/r/randomizr/">randomizr</a>
    <a class="external-link dropdown-item" href="https://declaredesign.org/r/fabricatr/">fabricatr</a>
    <a class="external-link dropdown-item" href="https://declaredesign.org/r/estimatr/">estimatr</a>
    <a class="dropdown-item" href="https://declaredesign.org/r/designlibrary/">DesignLibrary</a>
    <a class="external-link dropdown-item" href="https://eos.wzb.eu/ipi/DDWizard/">DesignWizard</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://declaredesign.org">declaredesign.org</a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="two_by_two_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Two-by-Two Factorial</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DeclareDesign/DesignLibrary/blob/HEAD/../vignettes/two_by_two.Rmd" class="external-link"><code>../vignettes/two_by_two.Rmd</code></a></small>
      <div class="d-none name"><code>two_by_two.Rmd</code></div>
    </div>

    
    
<p>Studying causal mechanisms is hard. One of the best ways we know to study if one cause works better or worse when another one is present is through a two-by-two experiment. As its name suggests, the design involves two overlapping two-arm experiments.</p>
<p>Before conducting studies of this kind, researchers often want to increase their confidence in their ability to detect significant interactions when the effect of <span class="math inline">\(Z_1\)</span> on <span class="math inline">\(Y\)</span> really is a function of <span class="math inline">\(Z_2\)</span>. How many subjects are needed to raise the probability of correctly inferring that there is an interaction 80%?</p>
<p>This is a surprisingly difficult question to answer, because answering it accurately depends upon the specific model of the potential outcomes the researcher has in mind. As a result, many researchers use rules of thumb that may lead to systematic over- or under-confidence. Using the MIDA framework and design simulation, however, we can provide a flexible answer to this question that does not rely on rules of thumb.</p>
<div class="section level2">
<h2 id="design-declaration">Design Declaration<a class="anchor" aria-label="anchor" href="#design-declaration"></a>
</h2>
<ul>
<li>
<p><strong>M</strong>odel:</p>
<p>We specify <span class="math inline">\(Z_1\)</span> and <span class="math inline">\(Z_2\)</span> do not have any effect on the outcome when only one of the causal agents becomes present. When both are present the combination of the causal factors produces an increase of 1/10th of a standard deviation in the outcome.</p>
</li>
<li>
<p><strong>I</strong>nquiry:</p>
<p>We can express the effect of <span class="math inline">\(Z_A\)</span> when <span class="math inline">\(Z_B\)</span> is present as <span class="math inline">\(\tau_{Z_A \mid Z_B} = E[(Y \mid Z_A = 1, Z_B = 1) - (Y \mid Z_A = 0, Z_B = 1)]\)</span>, and the effect of <span class="math inline">\(Z_1\)</span> when <span class="math inline">\(Z_2\)</span> is absent as <span class="math inline">\(\tau_{Z_A \mid \neg Z_B} = E[(Y \mid Z_A = 1, Z_B = 0) - (Y \mid Z_A = 0, Z_B = 0)]\)</span>. Thus, our estimand is <span class="math inline">\(\tau_{Z_A \mid Z_B} - \tau_{Z_A \mid \neg Z_B}\)</span>: the difference in the effect of <span class="math inline">\(Z_A\)</span> induced by moving <span class="math inline">\(Z_B\)</span> from 0 to 1. Our design also features estimands that involve a weighted average of <span class="math inline">\(\tau_{Z_A \mid Z_B}\)</span> and <span class="math inline">\(\tau_{Z_A \mid \neg Z_B}\)</span> (with equivalent expressions for the effect of <span class="math inline">\(B\)</span>). We’re going to weight the average so that our non-interaction estimands are equivalent to the effect of each treatment when the other one is absent.</p>
</li>
<li>
<p><strong>D</strong>ata strategy:</p>
<p>We randomly assign an equal number of subjects to one of four conditions, by blocking the assignment of <span class="math inline">\(B\)</span> on the assignment of <span class="math inline">\(A\)</span>. In the first both causal factors are absent, in the second and third only <span class="math inline">\(A\)</span> or <span class="math inline">\(B\)</span> is present, respectively, and in the fourth both are present.</p>
</li>
<li>
<p><strong>A</strong>nswer strategy:</p>
<p>We estimate the interaction effect using a linear regression model that focuses on the coefficient on the <span class="math inline">\(Z_A \times Z_B\)</span> term.</p>
</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">prob_A</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span>
<span><span class="va">prob_B</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span>
<span><span class="va">weight_A</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">weight_B</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">mean_A0B0</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">mean_A0B1</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">mean_A1B0</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">mean_A1B1</span> <span class="op">&lt;-</span> <span class="fl">0.1</span></span>
<span><span class="va">sd_i</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">outcome_sds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_population.html" class="external-link">declare_population</a></span><span class="op">(</span><span class="va">N</span>, u <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span>, sd <span class="op">=</span> <span class="va">sd_i</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">potential_outcomes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_potential_outcomes.html" class="external-link">declare_potential_outcomes</a></span><span class="op">(</span>Y_A_0_B_0 <span class="op">=</span> <span class="va">mean_A0B0</span> <span class="op">+</span> </span>
<span>    <span class="va">u</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span>, sd <span class="op">=</span> <span class="va">outcome_sds</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>, Y_A_0_B_1 <span class="op">=</span> <span class="va">mean_A0B1</span> <span class="op">+</span> </span>
<span>    <span class="va">u</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span>, sd <span class="op">=</span> <span class="va">outcome_sds</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>, Y_A_1_B_0 <span class="op">=</span> <span class="va">mean_A1B0</span> <span class="op">+</span> </span>
<span>    <span class="va">u</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span>, sd <span class="op">=</span> <span class="va">outcome_sds</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span>, Y_A_1_B_1 <span class="op">=</span> <span class="va">mean_A1B1</span> <span class="op">+</span> </span>
<span>    <span class="va">u</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span>, sd <span class="op">=</span> <span class="va">outcome_sds</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">estimand_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_inquiry.html" class="external-link">declare_inquiry</a></span><span class="op">(</span>ate_A <span class="op">=</span> <span class="va">weight_B</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Y_A_1_B_1</span> <span class="op">-</span> </span>
<span>    <span class="va">Y_A_0_B_1</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">weight_B</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Y_A_1_B_0</span> <span class="op">-</span> <span class="va">Y_A_0_B_0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">estimand_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_inquiry.html" class="external-link">declare_inquiry</a></span><span class="op">(</span>ate_B <span class="op">=</span> <span class="va">weight_A</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Y_A_1_B_1</span> <span class="op">-</span> </span>
<span>    <span class="va">Y_A_1_B_0</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">weight_A</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Y_A_0_B_1</span> <span class="op">-</span> <span class="va">Y_A_0_B_0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">estimand_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_inquiry.html" class="external-link">declare_inquiry</a></span><span class="op">(</span>interaction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="op">(</span><span class="va">Y_A_1_B_1</span> <span class="op">-</span> </span>
<span>    <span class="va">Y_A_1_B_0</span><span class="op">)</span> <span class="op">-</span> <span class="op">(</span><span class="va">Y_A_0_B_1</span> <span class="op">-</span> <span class="va">Y_A_0_B_0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">assign_A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_assignment.html" class="external-link">declare_assignment</a></span><span class="op">(</span>A <span class="op">=</span> <span class="fu"><a href="https://declaredesign.org/r/randomizr/reference/complete_ra.html" class="external-link">complete_ra</a></span><span class="op">(</span><span class="va">N</span>, prob <span class="op">=</span> <span class="va">prob_A</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">assign_B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_assignment.html" class="external-link">declare_assignment</a></span><span class="op">(</span>B <span class="op">=</span> <span class="fu"><a href="https://declaredesign.org/r/randomizr/reference/block_ra.html" class="external-link">block_ra</a></span><span class="op">(</span>prob <span class="op">=</span> <span class="va">prob_B</span>, </span>
<span>    blocks <span class="op">=</span> <span class="va">A</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">reveal_Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_reveal.html" class="external-link">declare_reveal</a></span><span class="op">(</span>Y_variables <span class="op">=</span> <span class="va">Y</span>, assignment_variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">A</span>, </span>
<span>    <span class="va">B</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">estimator_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_estimator.html" class="external-link">declare_estimator</a></span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">A</span> <span class="op">+</span> <span class="va">B</span>, model <span class="op">=</span> <span class="va">lm_robust</span>, </span>
<span>    term <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, inquiry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ate_A"</span>, <span class="st">"ate_B"</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"No_Interaction"</span><span class="op">)</span></span>
<span><span class="va">estimator_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/declare_estimator.html" class="external-link">declare_estimator</a></span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">A</span> <span class="op">+</span> <span class="va">B</span> <span class="op">+</span> <span class="va">A</span><span class="op">:</span><span class="va">B</span>, model <span class="op">=</span> <span class="va">lm_robust</span>, </span>
<span>    term <span class="op">=</span> <span class="st">"A:B"</span>, inquiry <span class="op">=</span> <span class="st">"interaction"</span>, label <span class="op">=</span> <span class="st">"Interaction"</span><span class="op">)</span></span>
<span><span class="va">two_by_two_design</span> <span class="op">&lt;-</span> <span class="va">population</span> <span class="op">+</span> <span class="va">potential_outcomes</span> <span class="op">+</span> <span class="va">estimand_1</span> <span class="op">+</span> </span>
<span>    <span class="va">estimand_2</span> <span class="op">+</span> <span class="va">estimand_3</span> <span class="op">+</span> <span class="va">assign_A</span> <span class="op">+</span> <span class="va">assign_B</span> <span class="op">+</span> <span class="va">reveal_Y</span> <span class="op">+</span> </span>
<span>    <span class="va">estimator_1</span> <span class="op">+</span> <span class="va">estimator_2</span></span></code></pre></div>
<div class="section level3">
<h3 id="takeaways">Takeaways<a class="anchor" aria-label="anchor" href="#takeaways"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">diagnosis</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://declaredesign.org/r/declaredesign/reference/diagnose_design.html" class="external-link">diagnose_design</a></span><span class="op">(</span><span class="va">two_by_two_design</span>, sims <span class="op">=</span> <span class="fl">25</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: We recommend you choose a number of simulations higher than 30.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B), model = ~lm_robust, term = ~c("A", "B")): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<pre><code><span><span class="co">## Warning in fn(data, ~(Y ~ A + B + A:B), model = ~lm_robust, term = ~"A:B"): The</span></span>
<span><span class="co">## argument 'model = ' is deprecated. Please use '.method = ' instead.</span></span></code></pre>
<table style="width:100%;" class="table">
<colgroup>
<col width="12%">
<col width="8%">
<col width="7%">
<col width="14%">
<col width="14%">
<col width="7%">
<col width="12%">
<col width="7%">
<col width="7%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="left">Inquiry</th>
<th align="left">Outcome</th>
<th align="left">N Sims</th>
<th align="left">Mean Estimand</th>
<th align="left">Mean Estimate</th>
<th align="left">Bias</th>
<th align="left">SD Estimate</th>
<th align="left">RMSE</th>
<th align="left">Power</th>
<th align="left">Coverage</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ate_A</td>
<td align="left">Y</td>
<td align="left">25</td>
<td align="left">0.00</td>
<td align="left">-0.03</td>
<td align="left">-0.03</td>
<td align="left">0.20</td>
<td align="left">0.20</td>
<td align="left">0.04</td>
<td align="left">0.96</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">(0.00)</td>
<td align="left">(0.04)</td>
<td align="left">(0.04)</td>
<td align="left">(0.03)</td>
<td align="left">(0.04)</td>
<td align="left">(0.04)</td>
<td align="left">(0.04)</td>
</tr>
<tr class="odd">
<td align="left">ate_B</td>
<td align="left">Y</td>
<td align="left">25</td>
<td align="left">0.00</td>
<td align="left">0.13</td>
<td align="left">0.13</td>
<td align="left">0.22</td>
<td align="left">0.25</td>
<td align="left">0.08</td>
<td align="left">0.92</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">(0.00)</td>
<td align="left">(0.04)</td>
<td align="left">(0.04)</td>
<td align="left">(0.03)</td>
<td align="left">(0.04)</td>
<td align="left">(0.06)</td>
<td align="left">(0.06)</td>
</tr>
<tr class="odd">
<td align="left">interaction</td>
<td align="left">Y</td>
<td align="left">25</td>
<td align="left">0.10</td>
<td align="left">0.02</td>
<td align="left">-0.08</td>
<td align="left">0.39</td>
<td align="left">0.39</td>
<td align="left">0.04</td>
<td align="left">0.96</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">(0.00)</td>
<td align="left">(0.08)</td>
<td align="left">(0.08)</td>
<td align="left">(0.06)</td>
<td align="left">(0.07)</td>
<td align="left">(0.04)</td>
<td align="left">(0.04)</td>
</tr>
</tbody>
</table>
<ul>
<li><p>Wow, the power is really low for our interaction! It’s only 4%. That’s because our estimator has to take account of the variation in both effects when estimating their difference. Note that the standard deviation of the interaction estimates is twice that of the estimates of the main effects.</p></li>
<li><p>We also see that our estimates of the main effects are biased: we set out to estimate the effect of each treatment when the other was absent, but half the time the other treatment was present, so we get a boost in the <em>estimated</em> effect size due to the interaction.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="exercises">Exercises<a class="anchor" aria-label="anchor" href="#exercises"></a>
</h3>
<ol style="list-style-type: decimal">
<li><p>Alter the answer strategy so that the estimates of the main effects are no longer biased.</p></li>
<li><p>Use <code>expand_designs()</code> with the <code><a href="../reference/two_by_two_designer.html">two_by_two_designer()</a></code> to determine the minimal interaction that can be detected with 80% power, holding other parameters constant.</p></li>
<li><p>Alter the template so that outcomes are binary instead of normally distibuted. What is the expected standard error for the interaction term for a sample size of 1000? Discuss the implications of your diagnosis for practice.</p></li>
</ol>
<div id="refs" class="references">
<div id="ref-murray1998design">
<p>Murray, David M. 1998. <em>Design and Analysis of Group-Randomized Trials</em>. Vol. 29. Monographs in Epidemiology &amp; B.</p>
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Graeme Blair, Jasper Cooper, Alexander Coppock, Macartan Humphreys, Clara Bicalho, Neal Fultz, Lily Medina.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
